<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Will you be my Valentine?</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Quicksand:wght@500;700&display=swap');

  * { margin: 0; padding: 0; box-sizing: border-box; }

  body {
    min-height: 100vh;
    display: flex;
    align-items: center;
    justify-content: center;
    background: #f8d0d8;
    font-family: 'Quicksand', sans-serif;
    overflow: hidden;
  }

  .card {
    background: rgba(255,255,255,0.85);
    backdrop-filter: blur(10px);
    border-radius: 24px;
    padding: 48px 64px 36px;
    text-align: center;
    box-shadow: 0 8px 40px rgba(0,0,0,0.08);
    position: relative;
    max-width: 700px;
    width: 94%;
    min-height: 420px;
    overflow: hidden;
  }

  .cat {
    width: 100px;
    height: 100px;
    margin: 0 auto 28px;
    position: relative;
  }

  .cat-face {
    width: 90px; height: 80px;
    background: #e8a95b;
    border-radius: 50%;
    position: relative;
    margin: 0 auto;
  }

  .ear-left, .ear-right {
    width: 0; height: 0;
    border-left: 14px solid transparent;
    border-right: 14px solid transparent;
    border-bottom: 22px solid #e8a95b;
    position: absolute; top: -14px;
  }
  .ear-left { left: 8px; transform: rotate(-10deg); }
  .ear-right { right: 8px; transform: rotate(10deg); }
  .ear-left::after, .ear-right::after {
    content: ''; width: 0; height: 0;
    border-left: 8px solid transparent;
    border-right: 8px solid transparent;
    border-bottom: 14px solid #f0c080;
    position: absolute; top: 4px; left: -8px;
  }

  .eye { width: 6px; height: 6px; background: #333; border-radius: 50%; position: absolute; top: 36px; }
  .eye.left { left: 26px; }
  .eye.right { right: 26px; }

  .nose { width: 8px; height: 6px; background: #d4836b; border-radius: 50%; position: absolute; top: 46px; left: 50%; transform: translateX(-50%); }

  .mouth { position: absolute; top: 52px; left: 50%; transform: translateX(-50%); width: 16px; height: 6px; }
  .mouth::before, .mouth::after {
    content: ''; position: absolute; width: 10px; height: 8px;
    border-bottom: 2px solid #d4836b; border-radius: 0 0 50% 50%; top: 0;
  }
  .mouth::before { left: 0; }
  .mouth::after { right: 0; }

  .heart-accessory { position: absolute; top: 2px; right: 0; font-size: 28px; animation: heartBeat 1.2s ease-in-out infinite; }

  @keyframes heartBeat { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.2); } }

  .blush { width: 14px; height: 8px; background: rgba(232,120,120,0.35); border-radius: 50%; position: absolute; top: 44px; }
  .blush.left { left: 12px; }
  .blush.right { right: 12px; }

  .question {
    font-size: 1.65rem; font-weight: 700; color: #333;
    margin-bottom: 32px; line-height: 1.3;
  }

  .buttons-area {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 40px;
    min-height: 60px;
    margin-bottom: 20px;
  }

  .btn-yes {
    background: #e8456b; color: white; border: none;
    padding: 14px 42px; border-radius: 50px;
    font-size: 1.15rem; font-weight: 700;
    font-family: 'Quicksand', sans-serif; cursor: pointer;
    transition: all 0.4s ease;
    box-shadow: 0 4px 16px rgba(232,69,107,0.3);
    z-index: 2; white-space: nowrap;
  }
  .btn-yes:hover { box-shadow: 0 6px 24px rgba(232,69,107,0.45); }

  .btn-no {
    background: transparent; color: #555;
    border: 2px solid #ddd; padding: 12px 36px;
    border-radius: 50px; font-size: 1.05rem; font-weight: 600;
    font-family: 'Quicksand', sans-serif; cursor: pointer;
    z-index: 3; user-select: none; white-space: nowrap;
    position: absolute;
    transition: none;
  }

  .shy-text { color: #aaa; font-size: 0.82rem; font-weight: 500; }

  .hearts-overlay { display: none; position: fixed; inset: 0; z-index: 100; pointer-events: none; }
  .hearts-overlay.active { display: block; }

  .floating-heart { position: absolute; font-size: 1.5rem; animation: floatUp 3s ease-out forwards; opacity: 0; }

  @keyframes floatUp {
    0% { opacity: 1; transform: translateY(0) scale(0.5) rotate(0deg); }
    100% { opacity: 0; transform: translateY(-100vh) scale(1.2) rotate(25deg); }
  }

  .success-screen { display: none; text-align: center; padding: 40px 0; }
  .success-screen.active { display: block; }
  .success-screen h1 { font-size: 2.2rem; color: #e8456b; margin-bottom: 12px; animation: popIn 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275); }
  .success-screen p { font-size: 1.15rem; color: #666; }
  .success-screen .big-heart { font-size: 5rem; margin-bottom: 16px; animation: heartBeat 1s ease-in-out infinite; }

  @keyframes popIn { 0% { transform: scale(0); opacity: 0; } 100% { transform: scale(1); opacity: 1; } }

  .main-content { transition: opacity 0.4s; }
  .main-content.hidden { opacity: 0; pointer-events: none; display: none; }
</style>
</head>
<body>

<div class="card" id="card">
  <div class="main-content" id="mainContent">
    <div class="cat">
      <div class="cat-face">
        <div class="ear-left"></div>
        <div class="ear-right"></div>
        <div class="eye left"></div>
        <div class="eye right"></div>
        <div class="blush left"></div>
        <div class="blush right"></div>
        <div class="nose"></div>
        <div class="mouth"></div>
      </div>
      <div class="heart-accessory">üíï</div>
    </div>

    <p class="question">Chloe will you be my valentine?</p>

    <div class="buttons-area" id="buttonsArea">
      <button class="btn-yes" id="yesBtn" onclick="sayYes()">Yes</button>
      <span id="noPlaceholder" style="display:inline-block;width:90px;"></span>
    </div>

    <p class="shy-text">I dare you to try click no</p>
  </div>

  <button class="btn-no" id="noBtn">No</button>

  <div class="success-screen" id="successScreen">
    <div class="big-heart">üíñ</div>
    <h1>Thank you for saying yes</h1>
    <p>Love you lots Lil Chlo</p>
  </div>
</div>

<div class="hearts-overlay" id="heartsOverlay"></div>

<script>
  const noBtn = document.getElementById('noBtn');
  const yesBtn = document.getElementById('yesBtn');
  const card = document.getElementById('card');
  const placeholder = document.getElementById('noPlaceholder');

  let noX, noY;
  let hasStartedDodging = false;
  let dodgeCount = 0;
  const FLEE_RADIUS = 140;

  // Place No exactly over the placeholder spot
  function initNoPosition() {
    const cardRect = card.getBoundingClientRect();
    const phRect = placeholder.getBoundingClientRect();
    const noRect = noBtn.getBoundingClientRect();

    noX = phRect.left - cardRect.left + (phRect.width / 2) - (noRect.width / 2);
    noY = phRect.top - cardRect.top + (phRect.height / 2) - (noRect.height / 2);

    noBtn.style.left = noX + 'px';
    noBtn.style.top = noY + 'px';
  }

  window.addEventListener('load', initNoPosition);
  window.addEventListener('resize', () => { if (!hasStartedDodging) initNoPosition(); });

  function clamp(val, min, max) {
    return Math.max(min, Math.min(max, val));
  }

  function handleMouseMove(mouseX, mouseY) {
    const cardRect = card.getBoundingClientRect();
    const noRect = noBtn.getBoundingClientRect();

    // Mouse relative to card
    const mx = mouseX - cardRect.left;
    const my = mouseY - cardRect.top;

    // No center relative to card
    const noCX = noX + noRect.width / 2;
    const noCY = noY + noRect.height / 2;

    const dx = noCX - mx;
    const dy = noCY - my;
    const dist = Math.sqrt(dx * dx + dy * dy);

    if (dist < FLEE_RADIUS && dist > 0) {
      if (!hasStartedDodging) hasStartedDodging = true;
      dodgeCount++;

      // Strong flee: move a big jump away from mouse
      const force = ((FLEE_RADIUS - dist) / FLEE_RADIUS);
      const jumpDist = 120 + force * 80; // big jumps
      let targetX = noX + (dx / dist) * jumpDist;
      let targetY = noY + (dy / dist) * jumpDist;

      const pad = 10;
      const maxX = cardRect.width - noRect.width - pad;
      const maxY = cardRect.height - noRect.height - pad;

      // If we'd get stuck in a corner, warp to opposite side
      const wouldBeStuckX = targetX <= pad || targetX >= maxX;
      const wouldBeStuckY = targetY <= pad || targetY >= maxY;

      if (wouldBeStuckX && wouldBeStuckY) {
        // Teleport to a random area on the opposite side of the card from the mouse
        if (mx < cardRect.width / 2) {
          targetX = cardRect.width * 0.55 + Math.random() * (cardRect.width * 0.35);
        } else {
          targetX = cardRect.width * 0.05 + Math.random() * (cardRect.width * 0.35);
        }
        if (my < cardRect.height / 2) {
          targetY = cardRect.height * 0.55 + Math.random() * (cardRect.height * 0.35);
        } else {
          targetY = cardRect.height * 0.05 + Math.random() * (cardRect.height * 0.35);
        }
      }

      targetX = clamp(targetX, pad, maxX);
      targetY = clamp(targetY, pad, maxY);

      // Instant move ‚Äî fast and snappy
      noX = targetX;
      noY = targetY;

      noBtn.style.left = noX + 'px';
      noBtn.style.top = noY + 'px';

      // Grow Yes button and move it toward center
      if (dodgeCount % 3 === 0) {
        const growStep = Math.floor(dodgeCount / 3);
        const newFontSize = Math.min(1.15 + growStep * 0.06, 2.4);
        const newPadV = Math.min(14 + growStep * 1.5, 24);
        const newPadH = Math.min(42 + growStep * 4, 75);
        yesBtn.style.padding = `${newPadV}px ${newPadH}px`;
        yesBtn.style.fontSize = `${newFontSize}rem`;
      }
    }
  }

  document.addEventListener('mousemove', (e) => {
    handleMouseMove(e.clientX, e.clientY);
  });

  document.addEventListener('touchmove', (e) => {
    const t = e.touches[0];
    handleMouseMove(t.clientX, t.clientY);
  }, { passive: true });

  noBtn.addEventListener('click', (e) => e.preventDefault());

  function sayYes() {
    document.getElementById('mainContent').classList.add('hidden');
    noBtn.style.display = 'none';
    document.getElementById('successScreen').classList.add('active');
    spawnHearts();
  }

  function spawnHearts() {
    const overlay = document.getElementById('heartsOverlay');
    overlay.classList.add('active');
    const hearts = ['‚ù§Ô∏è', 'üíï', 'üíñ', 'üíó', 'üíì', 'üíò', 'ü©∑'];
    for (let i = 0; i < 40; i++) {
      setTimeout(() => {
        const heart = document.createElement('div');
        heart.className = 'floating-heart';
        heart.textContent = hearts[Math.floor(Math.random() * hearts.length)];
        heart.style.left = Math.random() * 100 + 'vw';
        heart.style.bottom = '-30px';
        heart.style.animationDuration = (2 + Math.random() * 2) + 's';
        heart.style.fontSize = (1 + Math.random() * 1.5) + 'rem';
        overlay.appendChild(heart);
        setTimeout(() => heart.remove(), 4000);
      }, i * 100);
    }
  }
</script>
</body>
</html>
